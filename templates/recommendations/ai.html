{% extends "base.html" %}
{% block head %}
  <title>{{ title or 'AI Picks' }} — AudioBook Request</title>
{% endblock head %}
{% block body %}
  <div class="w-screen flex flex-col items-center justify-center p-6 sm:p-8 overflow-x-hidden gap-6">
    <div class="w-full max-w-7xl flex items-center justify-between">
      <div>
        <h1 class="text-3xl font-bold">{{ title or 'AI Picks' }}</h1>
        {% if description %}
          <p class="opacity-70">{{ description }}</p>
        {% endif %}
      </div>
      <div class="flex items-center gap-2">
        <button class="btn btn-outline" hx-post="{{ base_url }}/recommendations/ai/refresh" hx-swap="none">Refresh</button>
        <a href="{{ base_url }}/search" class="btn btn-primary flex items-center gap-2" title="Search for books">
          <span>Search</span>
          {% include "icons/search.html" %}
        </a>
      </div>
    </div>

    <div id="ai-page-sections"
         class="w-full max-w-7xl mt-6 border border-base-300 rounded-box p-6"
         hx-get="{{ base_url }}/recommendations/ai/page-fragment"
         hx-trigger="load"
         hx-swap="outerHTML">
      <div>
        <div class="font-semibold">Fetching AI recommendations…</div>
        <div class="opacity-70 text-sm">This may take a few seconds and will appear here when ready.</div>
      </div>
    </div>
  </div>
{% endblock body %}
